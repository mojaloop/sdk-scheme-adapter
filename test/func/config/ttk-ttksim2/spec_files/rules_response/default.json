[
  {
    "ruleId": 1,
    "priority": 1,
    "description": "get /parties/{idType}/{idValue} - error case - receiver errors out",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "pathParams",
          "operator": "equal",
          "value": "partynotfound",
          "path": "idValue"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/parties/{idType}/{idValue}"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "get"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "statusCode": "4001",
          "message": "Party Not Found in the backend application"
        },
        "statusCode": "404",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 2,
    "priority": 2,
    "description": "get /parties/{idType}/{idValue} - error case - timeout",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "pathParams",
          "operator": "equal",
          "value": "partytimesout",
          "path": "idValue"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/parties/{idType}/{idValue}"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "get"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "idType": "MSISDN",
          "idValue": "{$request.params.idValue}",
          "displayName": "ReceiverFirst ReceiverLast",
          "firstName": "ReceiverFirst",
          "middleName": "ReceiverMiddle",
          "lastName": "ReceiverLast",
          "dateOfBirth": "1984-01-01",
          "fspId": "ttkpm4mlreceiver"
        },
        "statusCode": "200",
        "scripts": {
          "exec": [
            "return null"
          ],
          "scriptingEngine": "javascript"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 3,
    "priority": 3,
    "description": "get /parties/{idType}/{idValue} - default path",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/parties/{idType}/{idValue}"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "get"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "idType": "MSISDN",
          "idValue": "{$request.params.idValue}",
          "displayName": "ReceiverFirst ReceiverLast",
          "firstName": "ReceiverFirst",
          "middleName": "ReceiverMiddle",
          "lastName": "ReceiverLast",
          "dateOfBirth": "1984-01-01",
          "fspId": "ttkpm4mlreceiver"
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 16,
    "priority": 1,
    "description": "post /bulkQuotes - receiver fails entire batch",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blkqtbatchfailure",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "statusCode": "2001",
          "message": "Error processing bulk quote"
        },
        "statusCode": "500",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 7,
    "priority": 7,
    "description": "post /bulkQuotes - bulk transfer test case - receiver fails the entire batch",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrbatchfailure",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "{$request.body.expiration}",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            },
            {
              "quoteId": "{$request.body.individualQuotes[1].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[1].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 6,
    "priority": 6,
    "description": "post /bulkQuotes - receiver times out entire batch",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blkqtbatchtimesout",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "quoteId": "{$request.body.individualQuotes[0].quoteId}",
          "transferAmount": "{$request.body.individualQuotes[0].amount}",
          "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
          "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
          "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
          "payeeFspFeeAmount": "0",
          "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
          "payeeFspCommissionAmount": "0",
          "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
        },
        "statusCode": "200",
        "scripts": {
          "exec": [
            "return null"
          ],
          "scriptingEngine": "javascript"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 17,
    "priority": 1,
    "description": "post /bulkQuotes - bulk transfer test case - receiver times out entire batch",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrbatchtimesout",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "2040-01-01T00:00:00.000Z",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            },
            {
              "quoteId": "{$request.body.individualQuotes[1].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[1].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 8,
    "priority": 8,
    "description": "post /bulkQuotes - receiver sends success response for one quote and failure for other",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blkqtbatchpartialsuccess",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "2040-01-01T00:00:00.000Z",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            },
            {
              "quoteId": "{$request.body.individualQuotes[1].quoteId}",
              "errorResponse": {
                "statusCode": "5101",
                "message": "Payee Rejected Quote"
              }
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 9,
    "priority": 9,
    "description": "post /bulkQuotes - bulk transfer test case - receiver sends success response for one transfer and failure for other",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrbatchpartialsuccess",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "2040-01-01T00:00:00.000Z",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            },
            {
              "quoteId": "{$request.body.individualQuotes[1].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[1].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 10,
    "priority": 10,
    "description": "post /bulkQuotes - bulk transfer test case - quotes response for transfers scenario that has an error in the result",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "bulktransferresponsehas1error",
          "path": "from.idValue"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "{$request.body.expiration}",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            },
            {
              "quoteId": "{$request.body.individualQuotes[1].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[1].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 20,
    "priority": 1,
    "description": "post /bulkQuotes - bulk transfer test case -transaction with 1 transfer",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrrcvr1transfer",
          "path": "individualQuotes[0].to.fspId"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "{$request.body.expiration}",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            },
            {
              "quoteId": "{$request.body.individualQuotes[1].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[1].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[1].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[1].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[1].currency}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 5,
    "priority": 5,
    "description": "post /bulkQuotes - receiver responds with 1 quote result",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blkqtbatchwith1qtresponse",
          "path": "individualQuotes[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "{$request.body.expiration}",
          "individualQuoteResults": [
            {
              "quoteId": "{$request.body.individualQuotes[0].quoteId}",
              "transferAmount": "{$request.body.individualQuotes[0].amount}",
              "transferAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeReceiveAmount": "{$request.body.individualQuotes[0].amount}",
              "payeeReceiveAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspFeeAmount": "0",
              "payeeFspFeeAmountCurrency": "{$request.body.individualQuotes[0].currency}",
              "payeeFspCommissionAmount": "0",
              "payeeFspCommissionAmountCurrency": "{$request.body.individualQuotes[0].currency}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 11,
    "priority": 11,
    "description": "post /bulkQuotes - default path",
    "apiVersion": {
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "majorVersion": 1,
      "minorVersion": 4,
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates",
      "type": "mojaloop_simulator_inbound"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkQuotes"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "params": {
        "body": {
          "bulkQuoteId": "{$request.body.bulkQuoteId}",
          "expiration": "2040-01-01T00:00:00.000Z",
          "individualQuoteResults": []
        },
        "statusCode": "200",
        "scripts": {
          "exec": [
            "const reqBody = JSON.parse(request.body)",
            "const individualQuoteResults = reqBody.individualQuotes.map(quote => ({",
            "  payeeFspCommissionAmount: \"0\",",
            "  payeeFspCommissionAmountCurrency: quote.currency,",
            "  payeeFspFeeAmount: \"0\",",
            "  payeeFspFeeAmountCurrency: quote.currency,",
            "  payeeReceiveAmount: quote.amount,",
            "  payeeReceiveAmountCurrency: quote.currency,",
            "  quoteId: quote.quoteId,",
            "  transferAmount: quote.amount,",
            "  transferAmountCurrency: quote.currency",
            "}))",
            "",
            "custom.appendEventBody({",
            "  individualQuoteResults",
            "})"
          ],
          "scriptingEngine": "javascript"
        }
      },
      "path": null,
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 12,
    "priority": 12,
    "description": "put /bulkTransactions/{bulkTransactionId}",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkTransactions/{bulkTransactionId}"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "put"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "scripts": {
          "scriptingEngine": "postman"
        },
        "statusCode": "202"
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 13,
    "priority": 13,
    "description": "post /bulkTransfers - receiver fails the entire batch",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrbatchfailure",
          "path": "individualTransfers[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkTransfers"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "statusCode": "4001",
          "message": "Cannot process the bulk transfer"
        },
        "statusCode": "500",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 18,
    "priority": 1,
    "description": "post /bulkTransfers - receiver times out entire batch",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrbatchtimesout",
          "path": "individualTransfers[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkTransfers"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkTransferId": "{$request.body.bulkTransferId}",
          "homeTransactionId": "{$request.body.homeTransactionId}",
          "individualTransferResults": [
            {
              "transferId": "{$request.body.individualTransfers[0].transferId}"
            },
            {
              "transferId": "{$request.body.individualTransfers[1].transferId}"
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "exec": [
            "return null"
          ],
          "scriptingEngine": "javascript"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 14,
    "priority": 14,
    "description": "post /bulkTransfers - receiver sends success response for one transfer and failure for other",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "hostnames": [
        "ttkpm4mlreceiver-ttk-backend"
      ],
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "blktrbatchpartialsuccess",
          "path": "individualTransfers[0].note"
        },
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkTransfers"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "bulkTransferId": "{$request.body.bulkTransferId}",
          "homeTransactionId": "{$request.body.homeTransactionId}",
          "individualTransferResults": [
            {
              "transferId": "{$request.body.individualTransfers[0].transferId}"
            },
            {
              "transferId": "{$request.body.individualTransfers[1].transferId}",
              "errorResponse": {
                "statusCode": "1001",
                "message": "Cannot process the transfer"
              }
            }
          ]
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 15,
    "priority": 15,
    "description": "post /bulkTransfers - default path",
    "apiVersion": {
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "hostnames": [
        "ttkpm4mlreceiver-ttk-backend"
      ],
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "majorVersion": 1,
      "minorVersion": 4,
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates",
      "type": "mojaloop_simulator_inbound"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/bulkTransfers"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "params": {
        "body": {
          "bulkTransferId": "{$request.body.bulkTransferId}",
          "homeTransactionId": "{$request.body.homeTransactionId}",
          "individualTransferResults": []
        },
        "statusCode": "200",
        "scripts": {
          "exec": [
            "const reqBody = JSON.parse(request.body)",
            "const individualTransferResults = reqBody.individualTransfers.map(transfer => ({",
            "  transferId: transfer.transferId",
            "}))",
            "",
            "custom.appendEventBody({",
            "  individualTransferResults",
            "})"
          ],
          "scriptingEngine": "javascript"
        }
      },
      "path": null,
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 21,
    "priority": 21,
    "description": "post /quoterequests",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/quoterequests"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "quoteId": "{$request.body.quoteId}",
          "transactionId": "{$request.body.transactionId}",
          "transferAmount": "{$request.body.amount}",
          "transferAmountCurrency": "{$request.body.currency}"
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 22,
    "priority": 1,
    "description": "post /transfers",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/transfers"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "homeTransactionId": "homeTransactionId"
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "FIXED_RESPONSE"
    },
    "type": "response",
    "version": 1
  },
  {
    "ruleId": 23,
    "priority": 1,
    "description": "post /transactionrequests",
    "apiVersion": {
      "minorVersion": 4,
      "majorVersion": 1,
      "type": "mojaloop_simulator_inbound",
      "asynchronous": true,
      "specFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/api_spec.yaml",
      "callbackMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/callback_map.json",
      "responseMapFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/response_map.json",
      "jsfRefFile": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/mockRef.json",
      "triggerTemplatesFolder": "spec_files/api_definitions/mojaloop_simulator_sim_1.4/trigger_templates"
    },
    "conditions": {
      "all": [
        {
          "fact": "operationPath",
          "operator": "equal",
          "value": "/transactionrequests"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "post"
        }
      ]
    },
    "event": {
      "method": null,
      "path": null,
      "params": {
        "body": {
          "homeR2PTransactionId": "cba321",
          "transactionId": "{$function.generic.generateUUID}",
          "transactionRequestState": "RECEIVED"
        },
        "statusCode": "200",
        "scripts": {
          "scriptingEngine": "postman"
        }
      },
      "type": "MOCK_RESPONSE"
    },
    "type": "response",
    "version": 1
  }
]